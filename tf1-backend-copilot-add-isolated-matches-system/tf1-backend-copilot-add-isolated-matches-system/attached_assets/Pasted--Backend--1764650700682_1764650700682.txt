أريد منك تطوير وإصلاح الـ Backend بالكامل للمنصّة حسب المواصفات التالية.  
أرجو تنفيذ المطلوب بدقة كاملة دون حذف أو تبسيط لأي جزء.

#############################################################
##                 1) إصلاح مشاكل Render + MongoDB        ##
#############################################################

- تأكيد أن السيرفر يقرأ متغير البيئة:
  MONGODB_URI
- إصلاح أي مشكلة تتعلق بالباسورد أو connection string.
- تأكد من إضافة اسم قاعدة البيانات في الرابط.
- عند الاتصال اكتب في اللوج:
  "MongoDB Connected Successfully"
- عند الخطأ:
  "MongoDB Connection Error: <error>"

- تأكد من حماية الاتصال بهذه الإعدادات:
  useNewUrlParser: true  
  useUnifiedTopology: true  
  serverSelectionTimeoutMS: 5000  
  maxPoolSize: 10  

#############################################################
##                  2) إصلاح Module Not Found              ##
#############################################################

المشكلة الحالية:
Cannot find module '../data/saudiRegions.json'

المطلوب:
- إنشاء ملف:
  src/data/saudiRegions.json
- إضافة هيكل JSON يحتوي:
  - مناطق السعودية  
  - المدن داخل كل منطقة  
  - الأحياء داخل كل مدينة  
- التأكد أن المسار صحيح:
  ../data/saudiRegions.json

واستخدامه في matchHubController.js.

#############################################################
##                3) إصلاح نظام تسجيل الدخول Login        ##
#############################################################

- إصلاح مشكلة 401.
- تأكد أن:
  • المستخدم موجود  
  • مقارنة الباسورد باستخدام bcrypt.compare  
  • JWT يعمل بشكل صحيح  
  • SECRET موجود في env باسم:
    JWT_SECRET

- رجّع Response واضح:
  { success: true, token, user }

#############################################################
##                 4) إصلاح نظام التسجيل Register         ##
#############################################################

- إصلاح خطأ 400.
- تأكد من:
  • الحقول المطلوبة حسب الدور (لاعب، مدرب، نادي…)  
  • validation متوافق مع ما يرسله الفرونت  
  • منع أي كتابة: كل الحقول Select فقط  
  • التأكد من ENUMs التالية:

الدوري:
- دوري روشن
- دوري يلو
- دوري الدرجة الثانية
- دوري الدرجة الثالثة
- دوري المناطق
- الأندية الخاصة والأكاديميات

شهادات المدربين:
- شهادة C
- شهادة B
- شهادة A
- شهادة BRO
- شهادات أخرى

#############################################################
##                5) Match Hub System (المباريات)         ##
#############################################################

المطلوب إنشاء نظام مباريات كامل:

المباراة تحتوي:
- title
- sport
- region
- city
- district
- date
- time
- maxPlayers
- registeredPlayers
- level
- organizerId

عند الضغط JOIN:
1) إنشاء سجل تسجيل في DB  
2) زيادة registeredPlayers بشكل آمن atomic update  
3) إنشاء إشعار للاعب:
   "تم تسجيلك في المباراة"
4) إنشاء إشعار للمنظم:
   "لاعب جديد انضم إلى المباراة"

Routes المطلوبة:
- GET /api/v1/matches  
- GET /api/v1/matches/:id  
- POST /api/v1/matches/create  
- POST /api/v1/matches/:id/join  
- GET /api/v1/matches/regions (من JSON)

#############################################################
##           6) Job System + Notifications                 ##
#############################################################

عند التقديم على وظيفة:
1) إضافة الطلب داخل DB  
2) إرسال إشعار للمتقدم:
   "تم استلام طلبك"  
3) إشعار لصاحب الوظيفة:
   "يوجد مرشح جديد"

بنية الإشعارات:
{
  userId,
  eventId,
  message,
  type,
  read: false,
  createdAt
}

Routes:
- GET /api/v1/notifications  
- PATCH /api/v1/notifications/:id/read  

Polling كل 10 ثوانٍ:
- إرجاع آخر الإشعارات

#############################################################
##        7) Player Profile + Coach Profile (Select only)  ##
#############################################################

تطوير بروفايل اللاعب:
- كل الحقول Select فقط  
- إضافة جميع ENUMs المطلوبة  
- ربط مكان السكن (المنطقة → المدينة → الحي)

تطوير بروفايل المدرب:
- إضافة شهادات C/B/A/BRO  
- سنوات الخبرة  
- الفئة العمرية  
- المدينة  
- الحي  
- نوع التدريب

#############################################################
##                   8) Security Enhancements              ##
#############################################################

- استخدام Helmet  
- XSS Protection  
- Rate limiter على:
  /auth/login  
  /auth/register  
  /notifications  
-CSRF (اختياري لو لزم)
- تحقق كامل من قيم select (enum validation)
- sanitization لكل مدخلات المستخدم
- منع NoSQL Injection باستخدام:
  express-mongo-sanitize

#############################################################
##                   9) هيكلة الكود المطلوبة               ##
#############################################################

backend/
  ├─ server.js
  ├─ config/
  │    └─ db.js
  ├─ models/
  ├─ controllers/
  ├─ routes/
  ├─ middleware/
  ├─ utils/
  ├─ data/
       └─ saudiRegions.json

#############################################################
##              10) مخرجات مطلوبة عند التسليم             ##
#############################################################

1) أن يكون MongoDB متصل و logs واضحة.  
2) رفع ملف saudiRegions.json.  
3) عدم وجود أي خطأ Module Not Found.  
4) Register يعمل بدون 400.  
5) Login يعمل بدون 401.  
6) Match Hub يعمل بالكامل.  
7) نظام الوظائف يعمل مع الإشعارات.  
8) ملف اللاعب والمدرب يعملان مع Selects فقط.  
9) جميع أخطاء Render صفر.  
10) تحسين الكود وتنظيفه بالكامل.

